# 实现计划

- [x] 1. 创建基础类型定义和接口
  - 创建 ImageGeneratorSection 接口扩展现有 Section 类型
  - 定义 ExampleImage、UserLimits、GenerationResult 等核心接口
  - 创建错误处理相关的枚举和接口
  - _需求: 需求 8.1, 需求 8.2_

- [x] 2. 设置 i18n 配置数据结构
  - 在 landing/en.json 中添加 imageGenerator 配置项
  - 包含品牌信息、标题、描述、按钮文本、示例图片数据
  - 添加错误消息、限制提示、下载相关的本地化文本
  - _需求: 需求 8.2, 需求 6.1_

- [ ] 3. 创建主要组件结构
- [x] 3.1 创建 InteractiveImageGenerator 主组件
  - 实现基本的组件结构和 props 接口
  - 设置状态管理（prompt、isGenerating、generatedImage、error 等）
  - 实现响应式布局（桌面端左右分栏，移动端上下布局）
  - _需求: 需求 1.1, 需求 5.1, 需求 7.1_

- [x] 3.2 创建 LeftPanel 左侧功能区组件
  - 实现品牌标识区域（logo + "Text to Image"）
  - 添加标题和描述文本显示
  - 创建提示词输入框组件
  - 实现生成按钮（包含图标和加载状态）
  - _需求: 需求 1.2, 需求 7.2_

- [x] 3.3 创建 RightPanel 右侧展示区组件
  - 实现深色渐变背景样式
  - 创建图片展示区域
  - 添加加载状态组件（loading spinner 或骨架屏）
  - 实现错误状态显示组件
  - _需求: 需求 1.4, 需求 1.5, 需求 7.3_

- [ ] 4. 实现示例图片滚动功能
- [x] 4.1 创建 ExampleScrollArea 滚动区域组件
  - 复用 testimonial 组件的 Carousel 和 AutoScroll 实现
  - 实现渐变遮罩样式（左右两侧渐变效果）
  - 配置自动滚动参数（速度、延迟等）
  - _需求: 需求 2.1, 需求 2.3_

- [x] 4.2 创建 ExampleImageItem 示例图片项组件
  - 实现圆形图片展示
  - 添加点击交互功能（填充提示词到输入框）
  - 实现悬停效果（图片缩放动画）
  - 处理悬停暂停滚动的交互
  - _需求: 需求 2.2, 需求 2.4, 需求 2.5_

- [ ] 5. 实现用户限制和状态管理
- [x] 5.1 创建 UsageLimits 使用限制显示组件
  - 显示剩余生成次数
  - 实现接近限制时的警告提示
  - 添加升级提示和链接
  - 区分不同用户类型的显示状态
  - _需求: 需求 4.1, 需求 4.2, 需求 4.3, 需求 6.1, 需求 6.2_

- [x] 5.2 实现用户限制检查逻辑
  - 创建获取用户限制状态的函数
  - 实现生成前的限制检查
  - 处理达到限制时的阻止逻辑和提示
  - 添加速度限制的等待时间显示
  - _需求: 需求 4.4, 需求 4.5, 需求 6.3, 需求 6.4_

- [ ] 6. 实现图像生成核心功能
- [x] 6.1 创建图像生成 API 接口
  - 定义 generateImage API 函数签名
  - 实现 API 调用的基础结构（暂时使用 mock 数据）
  - 添加请求和响应的类型定义
  - 实现错误处理和重试逻辑
  - _需求: 需求 1.3, 需求 1.5_

- [x] 6.2 实现生成状态管理
  - 处理生成按钮点击事件
  - 管理 loading 状态的显示和隐藏
  - 实现生成成功后的图片显示
  - 处理生成失败的错误显示和重试
  - _需求: 需求 1.3, 需求 1.4, 需求 1.5_

- [ ] 7. 实现图片下载功能
- [x] 7.1 创建 DownloadButton 下载按钮组件
  - 在生成成功后显示下载按钮
  - 实现点击下载功能
  - 添加下载成功的视觉确认
  - 处理下载失败的错误提示
  - _需求: 需求 3.1, 需求 3.2, 需求 3.4_

- [x] 7.2 实现移动端下载优化
  - 处理移动端特定的下载行为
  - 确保 PNG 格式无水印下载
  - 优化移动端下载用户体验
  - _需求: 需求 3.3, 需求 5.5_

- [ ] 8. 实现响应式设计和移动端优化
- [x] 8.1 实现桌面端布局
  - 确保左右分栏布局正确显示
  - 优化桌面端的交互体验
  - 实现悬停效果和动画
  - _需求: 需求 7.1, 需求 7.4_

- [x] 8.2 实现移动端布局适配
  - 将左右分栏改为上下布局
  - 优化移动端输入框和按钮的触摸体验
  - 确保示例图片滚动在移动端正常工作
  - 适配移动端的图片展示尺寸
  - _需求: 需求 5.1, 需求 5.2, 需求 5.3, 需求 5.4_

- [ ] 9. 集成到首页并替换 branding 组件
- [x] 9.1 更新页面类型定义
  - 在 LandingPage 接口中将 branding 类型改为 ImageGeneratorSection
  - 确保类型兼容性和向后兼容
  - _需求: 需求 8.1, 需求 8.3_

- [x] 9.2 更新首页组件引用
  - 在 page.tsx 中将 Branding 组件替换为 InteractiveImageGenerator
  - 确保其他页面组件不受影响
  - 测试页面渲染和功能正常
  - _需求: 需求 8.3, 需求 8.4_

- [ ] 10. 实现错误处理和用户反馈
- [x] 10.1 创建错误状态组件
  - 实现网络错误的显示和重试
  - 添加 API 错误的具体信息显示
  - 创建生成失败的错误提示
  - _需求: 需求 1.5_

- [x] 10.2 实现用户反馈机制
  - 添加加载状态的视觉反馈
  - 实现成功状态的确认提示
  - 优化错误消息的用户友好性
  - _需求: 需求 1.4, 需求 3.4, 需求 6.5_

- [ ] 11. 添加输入验证和安全处理
- [x] 11.1 实现提示词输入验证
  - 添加字符长度限制（3-500 字符）
  - 实现基础的输入清理和过滤
  - 添加输入验证的用户提示
  - _需求: 需求 1.2_

- [x] 11.2 实现客户端安全措施
  - 添加 XSS 防护的输入清理
  - 实现基础的内容过滤
  - 确保下载功能的安全性
  - _需求: 需求 3.3_

- [ ] 12. 性能优化和最终测试
- [x] 12.1 实现性能优化
  - 添加示例图片的懒加载
  - 优化组件渲染性能
  - 实现图片预加载策略
  - _需求: 需求 8.5_

- [x] 12.2 进行全面测试
  - 测试所有用户交互流程
  - 验证响应式设计在不同设备上的表现
  - 测试错误处理和边界情况
  - 确保与现有页面组件的兼容性
  - _需求: 需求 1.1, 需求 5.1, 需求 8.3_